{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["function getUrl(str) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const KEY = '44649550-1f14fff39212e3f1a5e911ecf';\n  const imgType = 'photo';\n  const orient = 'horizontal';\n  const safesearch = 'true';\n  const urlRequest = `${BASE_URL}?key=${KEY}&q=${str}&image_type=${imgType}&orientation=${orient}&safesearch=${safesearch}`;\n\n  return fetch(urlRequest).then(resp => {\n    if (!resp.ok) {\n      throw new Error('No match item');\n    }\n\n    return resp.json();\n  });\n}\n\nexport { getUrl };\n","import { refs } from '../main';\n\nfunction createMarkup(arr) {\n  const markup = [];\n  arr.map(item => {\n    const {\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = item;\n    markup.push(\n      `<li class=\"item\">\n      <a href=\"${largeImageURL}\" class=\"gallery\">\n      <img class='item-img' src=\"${webformatURL}\" alt=\"${tags}\" />\n      <div class=\"item-info\">\n      <div class=\"item-info__text\">Likes <span>${likes}</span></div>\n      <div class=\"item-info__text\">Views <span>${views}</span></div>\n      <div class=\"item-info__text\">Comments <span>${comments}</span></div>\n      <div class=\"item-info__text\">Downloads <span>${downloads}</span></div>\n      </div>\n      </a>\n      </li>`\n    );\n  });\n\n  // document\n  //   .getElementById('img-output')\n  //   .insertAdjacentHTML('beforebegin', markup.join(''));\n\n  refs.imgOut.innerHTML = markup.join('');\n}\n\nfunction clearMarkup(element) {\n  element.innerHTML = ' ';\n}\n\nexport { createMarkup, clearMarkup };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getUrl } from './js/pixabay-api';\nimport { clearMarkup, createMarkup } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const refs = {\n  form: document.querySelector('.form-request'),\n  imgOut: document.getElementById('img-output'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.form.addEventListener('submit', handlerSubmit);\n\nconst instance = new SimpleLightbox('.list a', {\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nlet userRequest = null;\n\nfunction handlerSubmit(evt) {\n  evt.preventDefault();\n  userRequest = evt.target.searchQuery.value.trim();\n  if (!userRequest) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  refs.loader.style.display = 'block';\n\n  getUrl(userRequest)\n    .then(({ hits }) => {\n      clearMarkup(refs.imgOut);\n      createMarkup([...hits]);\n      instance.on();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      refs.form.reset();\n      instance.refresh();\n      refs.loader.style.display = 'none';\n    });\n}\n"],"names":["getUrl","str","urlRequest","resp","createMarkup","arr","markup","item","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","clearMarkup","element","handlerSubmit","instance","SimpleLightbox","userRequest","evt","iziToast","hits","error"],"mappings":"6vBAAA,SAASA,EAAOC,EAAK,CAMnB,MAAMC,EAAa,qEAA4BD,CAAG,2DAElD,OAAO,MAAMC,CAAU,EAAE,KAAKC,GAAQ,CACpC,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAM,eAAe,EAGjC,OAAOA,EAAK,MAChB,CAAG,CACH,CCbA,SAASC,EAAaC,EAAK,CACzB,MAAMC,EAAS,CAAA,EACfD,EAAI,IAAIE,GAAQ,CACd,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJD,EAAO,KACL;AAAA,iBACWG,CAAa;AAAA,mCACKD,CAAY,UAAUE,CAAI;AAAA;AAAA,iDAEZC,CAAK;AAAA,iDACLC,CAAK;AAAA,oDACFC,CAAQ;AAAA,qDACPC,CAAS;AAAA;AAAA;AAAA,YAI9D,CACA,CAAG,EAMDC,EAAK,OAAO,UAAYT,EAAO,KAAK,EAAE,CACxC,CAEA,SAASU,EAAYC,EAAS,CAC5BA,EAAQ,UAAY,GACtB,CC/BO,MAAMF,EAAO,CAClB,KAAM,SAAS,cAAc,eAAe,EAC5C,OAAQ,SAAS,eAAe,YAAY,EAC5C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,KAAK,iBAAiB,SAAUG,CAAa,EAElD,MAAMC,EAAW,IAAIC,EAAe,UAAW,CAC7C,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAED,IAAIC,EAAc,KAElB,SAASH,EAAcI,EAAK,CAG1B,GAFAA,EAAI,eAAc,EAClBD,EAAcC,EAAI,OAAO,YAAY,MAAM,KAAI,EAC3C,CAACD,EAAa,CAChBE,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAChB,CAAK,EACD,MACD,CAEDR,EAAK,OAAO,MAAM,QAAU,QAE5Bf,EAAOqB,CAAW,EACf,KAAK,CAAC,CAAE,KAAAG,KAAW,CAClBR,EAAYD,EAAK,MAAM,EACvBX,EAAa,CAAC,GAAGoB,CAAI,CAAC,EACtBL,EAAS,GAAE,CACjB,CAAK,EACA,MAAMM,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbV,EAAK,KAAK,QACVI,EAAS,QAAO,EAChBJ,EAAK,OAAO,MAAM,QAAU,MAClC,CAAK,CACL"}